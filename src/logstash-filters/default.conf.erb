<%

def include_template(file)
    "#\n# #{file}\n#\n#{ERB.new(File.read(file)).result(binding)}"
end

%>

if "logsearch-nginx-access-v1" == [@type] {
  <%= include_template 'src/logstash-filters/snippets/nginx-access-v1.conf' %>
}

if "logsearch-nginx-error-v1" == [@type] {
  <%= include_template 'src/logstash-filters/snippets/nginx-error-v1.conf' %>
}

if "logsearch-elasticsearch-stdout-v1" == [@type] {
  <%= include_template 'src/logstash-filters/snippets/elasticsearch-stdout-v1.conf' %>
}
